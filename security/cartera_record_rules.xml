<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- REGLAS DE REGISTRO (RECORD RULES) -->

        <!-- Regla Global para Gestores (Ver Todo) -->
        <record id="rule_cartera_credito_manager" model="ir.rule">
            <field name="name">Cartera Credito: Gestor ve todo</field>
            <field name="model_id" ref="model_cartera_credito"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_manager'))]"/>
        </record>

        <record id="rule_cartera_cuota_manager" model="ir.rule">
            <field name="name">Cartera Cuota: Gestor ve todo</field>
            <field name="model_id" ref="model_cartera_cuota"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_manager'))]"/>
        </record>

        <record id="rule_cartera_pago_manager" model="ir.rule">
            <field name="name">Cartera Pago: Gestor ve todo</field>
            <field name="model_id" ref="model_cartera_pago"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_manager'))]"/>
        </record>

        <!-- Regla para Usuario Normal (Ver solo sus propios registros) -->
        <record id="rule_cartera_credito_user" model="ir.rule">
            <field name="name">Cartera Credito: Usuario ve sus creditos</field>
            <field name="model_id" ref="model_cartera_credito"/>
            <field name="domain_force">[('socio_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_user'))]"/>
        </record>

        <record id="rule_cartera_cuota_user" model="ir.rule">
            <field name="name">Cartera Cuota: Usuario ve sus cuotas</field>
            <field name="model_id" ref="model_cartera_cuota"/>
            <field name="domain_force">[('credito_id.socio_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_user'))]"/>
        </record>

        <record id="rule_cartera_pago_user" model="ir.rule">
            <field name="name">Cartera Pago: Usuario ve sus pagos</field>
            <field name="model_id" ref="model_cartera_pago"/>
            <field name="domain_force">[('cuota_id.credito_id.socio_id', '=', user.partner_id.id)]</field>
            <field name="groups" eval="[(4, ref('prefectura_ute_6.group_cartera_user'))]"/>
        </record>

    </data>
</odoo>
